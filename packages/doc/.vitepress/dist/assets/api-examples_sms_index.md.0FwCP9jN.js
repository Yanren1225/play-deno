import{b as t}from"./chunks/baseurl.mm2ZiBeg.js";import{c as l,m as e,t as a,p as i,a as s,U as n,o as r}from"./chunks/framework.YfTnrsv6.js";const d=n('<h1 id="短信转发接口" tabindex="-1">短信转发接口 <a class="header-anchor" href="#短信转发接口" aria-label="Permalink to &quot;短信转发接口&quot;">​</a></h1><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">INFO</p><p>本接口本身是配合 <a href="https://github.com/pppscn/SmsForwarder" target="_blank" rel="noreferrer">SmsForwarder - 短信转发器</a> 使用的，具体怎么配合请查看 <a href="#更多">这里</a></p></div><p>转发短信到 telegram 上</p><h2 id="终端点" tabindex="-1">终端点 <a class="header-anchor" href="#终端点" aria-label="Permalink to &quot;终端点&quot;">​</a></h2><ul><li><strong>Endpoint:</strong> <code>/sms</code></li><li><strong>方法:</strong> <code>GET</code></li></ul><h2 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h2><table><thead><tr><th>名称</th><th>类型</th><th>默认值</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>token</td><td><code>string</code></td><td><code>null</code></td><td>是</td><td>telegram bot token <a href="#更多">如何获取？</a></td></tr><tr><td>user</td><td><code>string</code></td><td><code>null</code></td><td>是</td><td>telegram 用户 id <a href="#更多">如何获取？</a></td></tr><tr><td>from</td><td><code>string</code></td><td><code>null</code></td><td>否</td><td>短信来源</td></tr><tr><td>content</td><td><code>string</code></td><td><code>null</code></td><td>否</td><td>短信内容</td></tr><tr><td>device</td><td><code>string</code></td><td><code>null</code></td><td>否</td><td>设备名称</td></tr><tr><td>time</td><td><code>string</code></td><td><code>null</code></td><td>否</td><td>发送时间</td></tr></tbody></table><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2>',9),o={class:"language-curl vp-adaptive-theme"},h=e("button",{title:"Copy Code",class:"copy"},null,-1),p=e("span",{class:"lang"},"curl",-1),c={class:"shiki shiki-themes github-light github-dark vp-code"},k={class:"line"},u=n(`<h2 id="响应" tabindex="-1">响应 <a class="header-anchor" href="#响应" aria-label="Permalink to &quot;响应&quot;">​</a></h2><p>204 No Content</p><h2 id="错误" tabindex="-1">错误 <a class="header-anchor" href="#错误" aria-label="Permalink to &quot;错误&quot;">​</a></h2><h3 id="token-is-required" tabindex="-1">token is required <a class="header-anchor" href="#token-is-required" aria-label="Permalink to &quot;token is required&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;token is required&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>在参数中中添加 <code>token</code></p><h3 id="user-is-required" tabindex="-1">user is required <a class="header-anchor" href="#user-is-required" aria-label="Permalink to &quot;user is required&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user is required&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>在参数中中添加 <code>user</code></p><h2 id="更多" tabindex="-1">更多 <a class="header-anchor" href="#更多" aria-label="Permalink to &quot;更多&quot;">​</a></h2><h3 id="如何获取-telegram-bot-token" tabindex="-1">如何获取 telegram bot token <a class="header-anchor" href="#如何获取-telegram-bot-token" aria-label="Permalink to &quot;如何获取 telegram bot token&quot;">​</a></h3><p>请查看 <a href="https://www.freecodecamp.org/chinese/news/how-to-create-a-telegram-bot-using-python/" target="_blank" rel="noreferrer">如何通过 Python 创建一个 Telegram 机器人</a> 拿到一个新的 token 并且保存好</p><h3 id="如何获取-telegram-用户-id" tabindex="-1">如何获取 telegram 用户 id <a class="header-anchor" href="#如何获取-telegram-用户-id" aria-label="Permalink to &quot;如何获取 telegram 用户 id&quot;">​</a></h3><p>打开 <a href="https://t.me/useridgetbot" target="_blank" rel="noreferrer">@useridgetbot</a> 发送 <code>/get_me</code> 即可获得</p><h3 id="如何配合-smsforwarder-短信转发器" tabindex="-1">如何配合 SmsForwarder - 短信转发器 <a class="header-anchor" href="#如何配合-smsforwarder-短信转发器" aria-label="Permalink to &quot;如何配合 SmsForwarder - 短信转发器&quot;">​</a></h3><blockquote><p>本文已经假定你可以使用该 APP 的基础功能并且明白怎么使用，否则请先去查看对应文档</p></blockquote>`,16),g=e("li",null,[s("新建一个发送通道，类型选择 Webhook，名字随便起一个，请求类型选择 "),e("code",null,"GET")],-1),E=e("li",null,[s("消息模板使用 "),e("code",null,"from=[from]&content=[org_content]&device=[device_mark]&time=[receive_time]")],-1),m=e("li",null,"点击测试按钮，如果一切正常的话你的 telegram 就会收到来自你之前创建的 bot 的消息，如果失败了请检查上面的配置",-1),F=JSON.parse('{"title":"短信转发接口","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"api-examples/sms/index.md","filePath":"api-examples/sms/index.md"}'),b={name:"api-examples/sms/index.md"},x=Object.assign(b,{setup(_){return(q,y)=>(r(),l("div",null,[d,e("div",o,[h,p,e("pre",c,[e("code",null,[e("span",k,[e("span",null,"curl "+a(i(t))+"/sms?token=xxx&user=xxx&from=10086&content=你话费没了&device=MI6&time=1145年1月4日",1)])])])]),u,e("ul",null,[g,e("li",null,[s("Webhook Server 填写 "),e("code",null,a(i(t))+"/sms?token=[获取到的 token]&user=[获取到的 user]",1),s("，记得替换一下里面的内容")]),E,m])]))}});export{F as __pageData,x as default};
